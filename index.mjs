// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-uint32array@esm/index.mjs";import{factory as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-mt19937@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constant-function@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@v0.0.14-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-uint32-max@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-to-json@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-exp@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ln@esm/index.mjs";var v=.00991256303526217;function y(e,t,s){var n,r;do{n=b(e())/t,r=b(e())}while(-2*r<n*n);return s?n-t:t-n}var x=function(e,t){var s,n,r;for(n=u(-.5*t*t),(s=[]).push(v/n),s.push(t),r=2;r<e;r++)s[r]=g(-2*b(v/s[r-1]+n)),n=u(-.5*s[r]*s[r]);return s.push(0),s}(128,3.442619855899),w=function(e){var t,s;for(t=[],s=0;s<e.length-1;s++)t.push(e[s+1]/e[s]);return t}(x);function L(e,t){return function(){var s,n,r,i,o,d,m;for(;;){if(o=2*e()-1,d=127&t(),f(o)<w[d])return o*x[d];if(0===d)return y(e,3.442619855899,o<0);if(i=o*x[d],r=i*i,m=d+1,s=u(-.5*(x[d]*x[d]-r)),(n=u(-.5*(x[m]*x[m]-r)))+e()*(s-n)<1)return i}}}function E(f){var u,g,b,v;if(v={copy:!0},arguments.length){if(!r(f))throw new TypeError(c("0P84K",f));if(o(f,"copy")&&(v.copy=f.copy,!i(f.copy)))throw new TypeError(c("0P830","copy",f.copy));if(o(f,"prng")){if(!n(f.prng))throw new TypeError(c("0P87M","prng",f.prng));u=f.prng}else if(o(f,"state")){if(v.state=f.state,!d(f.state))throw new TypeError(c("0P87I","state",f.state))}else if(o(f,"seed")&&(v.seed=f.seed,void 0===f.seed))throw new TypeError(c("0P87N","seed",f.seed))}return void 0===v.state?void 0===u?u=(g=m(v)).normalized:(g=m({seed:a(1+h*u()),copy:v.copy}),v.seed=null):u=(g=m(v)).normalized,b=L(u,g),e(b,"NAME","improved-ziggurat"),null===v.seed?(e(b,"seed",null),e(b,"seedLength",null)):(t(b,"seed",y),t(b,"seedLength",x)),f&&f.prng?(s(b,"state",l(null),p),e(b,"stateLength",null),e(b,"byteLength",null),e(b,"toJSON",l(null))):(s(b,"state",N,P),t(b,"stateLength",w),t(b,"byteLength",E),e(b,"toJSON",T)),e(b,"PRNG",u),b;function y(){return g.seed}function x(){return g.seedLength}function w(){return g.stateLength}function E(){return g.byteLength}function N(){return g.state}function P(e){g.state=e}function T(){var e={type:"PRNG"};return e.name=b.NAME,e.state=j(g.state),e.params=[],e}}var N=E();e(N,"factory",E);export{N as default,E as factory};
//# sourceMappingURL=index.mjs.map
